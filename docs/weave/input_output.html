<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Example Use Case: Data Preparation" href="example.html" /><link rel="prev" title="Other Operations" href="other_operations.html" />
        <link rel="canonical" href="https://stringi.gagolewski.com/weave/input_output.html" />

    <link rel="shortcut icon" href="https://www.gagolewski.com/_static/img/stringi.png"/><!-- Generated with Sphinx 7.3.7 and Furo 2024.05.06 -->
        <title>Input and Output - R Package stringi</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=387cc868" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=1981fb80" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --admonition-font-size: 95%;
  --admonition-title-font-size: 95%;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --admonition-font-size: 95%;
  --admonition-title-font-size: 95%;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --admonition-font-size: 95%;
  --admonition-title-font-size: 95%;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" /
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">R Package stringi</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto colour theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky">
<div class="sidebar-logo-container">
  <a class="sidebar-brand" href="../index.html"><img class="sidebar-logo" src="https://www.gagolewski.com/_static/img/stringi.png" alt="Logo"/></a>
</div>

<span class="sidebar-brand-text">
<a class="sidebar-brand" href="../index.html">stringi</a>
</span>
<div class="sidebar-brand">
1.8.4.9002
</div>
<form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">stringi</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">About</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.gagolewski.com/">Author</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing <em>stringi</em></a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/gagolews/stringi">Source Code (GitHub)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/gagolews/stringi/issues">Bug Tracker and Feature Suggestions</a></li>
<li class="toctree-l1"><a class="reference external" href="https://cran.r-project.org/package=stringi">CRAN Entry</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorial</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="design_principles.html">General Design Principles</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_operations.html">Basic String Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="codepoint_comparing.html">Code-Pointwise Comparing</a></li>
<li class="toctree-l1"><a class="reference internal" href="regular_expressions.html">Regular Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="collation.html">Collation</a></li>
<li class="toctree-l1"><a class="reference internal" href="other_operations.html">Other Operations</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Input and Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="example.html">Example Use Case: Data Preparation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference Manual</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../rapi.html">R Package <em>stringi</em> Reference</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of R Package stringi Reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../rapi/about_arguments.html">about_arguments:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/about_encoding.html">about_encoding:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/about_locale.html">about_locale:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/about_search_boundaries.html">about_search_boundaries:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/about_search_charclass.html">about_search_charclass:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/about_search_coll.html">about_search_coll:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/about_search_fixed.html">about_search_fixed:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/about_search_regex.html">about_search_regex:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/about_search.html">about_search: String Searching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/about_stringi.html">about_stringi: Fast and Portable Character String Processing in R</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/operator_add.html">operator_add: Concatenate Two Character Vectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/operator_compare.html">operator_compare: Compare Strings with or without Collation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/operator_dollar.html">operator_dollar: as a Binary Operator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_compare.html">stri_compare: Compare Strings with or without Collation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_count_boundaries.html">stri_count_boundaries: Count the Number of Text Boundaries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_count.html">stri_count: Count the Number of Pattern Occurrences</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_datetime_add.html">stri_datetime_add: Date and Time Arithmetic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_datetime_create.html">stri_datetime_create: Create a Date-Time Object</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_datetime_fields.html">stri_datetime_fields: Get Values for Date and Time Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_datetime_format.html">stri_datetime_format: Date and Time Formatting and Parsing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_datetime_fstr.html">stri_datetime_fstr: -Style Format Strings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_datetime_now.html">stri_datetime_now: Get Current Date and Time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_datetime_symbols.html">stri_datetime_symbols: List Localizable Date-Time Formatting Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_detect.html">stri_detect: Detect Pattern Occurrences</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_dup.html">stri_dup: Duplicate Strings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_duplicated.html">stri_duplicated: Determine Duplicated Elements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_enc_detect.html">stri_enc_detect: Detect Character Set and Language</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_enc_detect2.html">stri_enc_detect2: [DEPRECATED] Detect Locale-Sensitive Character Encoding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_enc_fromutf32.html">stri_enc_fromutf32: Convert From UTF-32</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_enc_info.html">stri_enc_info: Query a Character Encoding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_enc_isascii.html">stri_enc_isascii: Check If a Data Stream Is Possibly in ASCII</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_enc_isutf16.html">stri_enc_isutf16: Check If a Data Stream Is Possibly in UTF-16 or UTF-32</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_enc_isutf8.html">stri_enc_isutf8: Check If a Data Stream Is Possibly in UTF-8</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_enc_list.html">stri_enc_list: List Known Character Encodings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_enc_mark.html">stri_enc_mark: Get Declared Encodings of Each String</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_enc_set.html">stri_enc_set:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_enc_toascii.html">stri_enc_toascii: Convert To ASCII</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_enc_tonative.html">stri_enc_tonative: Convert Strings To Native Encoding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_enc_toutf32.html">stri_enc_toutf32: Convert Strings To UTF-32</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_enc_toutf8.html">stri_enc_toutf8: Convert Strings To UTF-8</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_encode.html">stri_encode: Convert Strings Between Given Encodings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_escape_unicode.html">stri_escape_unicode: Escape Unicode Code Points</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_extract_boundaries.html">stri_extract_boundaries: Extract Data Between Text Boundaries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_extract.html">stri_extract: Extract Pattern Occurrences</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_flatten.html">stri_flatten: Flatten a String</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_info.html">stri_info:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_isempty.html">stri_isempty: Determine if a String is of Length Zero</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_join_list.html">stri_join_list: Concatenate Strings in a List</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_join.html">stri_join: Concatenate Character Vectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_length.html">stri_length: Count the Number of Code Points</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_list2matrix.html">stri_list2matrix: Convert a List to a Character Matrix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_locale_info.html">stri_locale_info: Query Given Locale</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_locale_list.html">stri_locale_list: List Available Locales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_locale_set.html">stri_locale_set:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_locate_boundaries.html">stri_locate_boundaries: Locate Text Boundaries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_locate.html">stri_locate: Locate Pattern Occurrences</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_match.html">stri_match: Extract Regex Pattern Matches, Together with Capture Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_na2empty.html">stri_na2empty: Replace NAs with Empty Strings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_numbytes.html">stri_numbytes: Count the Number of Bytes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_opts_brkiter.html">stri_opts_brkiter: Generate a List with BreakIterator Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_opts_collator.html">stri_opts_collator: Generate a List with Collator Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_opts_fixed.html">stri_opts_fixed: Generate a List with Fixed Pattern Search Engine’s Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_opts_regex.html">stri_opts_regex: Generate a List with Regex Matcher Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_order.html">stri_order: Ordering Permutation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_pad.html">stri_pad: Pad (Center/Left/Right Align) a String</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_rand_lipsum.html">stri_rand_lipsum: A Lorem Ipsum Generator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_rand_shuffle.html">stri_rand_shuffle: Randomly Shuffle Code Points in Each String</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_rand_strings.html">stri_rand_strings: Generate Random Strings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_rank.html">stri_rank: Ranking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_read_lines.html">stri_read_lines: Read Text Lines from a Text File</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_read_raw.html">stri_read_raw: Read Text File as Raw</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_remove_empty.html">stri_remove_empty: Remove All Empty Strings from a Character Vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_replace_na.html">stri_replace_na: Replace Missing Values in a Character Vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_replace_rstr.html">stri_replace_rstr: Convert gsub-Style Replacement Strings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_replace.html">stri_replace: Replace Pattern Occurrences</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_reverse.html">stri_reverse: Reverse Each String</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_sort_key.html">stri_sort_key: Sort Keys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_sort.html">stri_sort: String Sorting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_split_boundaries.html">stri_split_boundaries: Split a String at Text Boundaries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_split_lines.html">stri_split_lines: Split a String Into Text Lines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_split.html">stri_split: Split a String By Pattern Matches</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_sprintf.html">stri_sprintf: Format Strings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_startsendswith.html">stri_startsendswith: Determine if the Start or End of a String Matches a Pattern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_stats_general.html">stri_stats_general: General Statistics for a Character Vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_stats_latex.html">stri_stats_latex: Statistics for a Character Vector Containing LaTeX Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_sub_all.html">stri_sub_all: Extract or Replace Multiple Substrings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_sub.html">stri_sub: Extract a Substring From or Replace a Substring In a Character Vector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_subset.html">stri_subset: Select Elements that Match a Given Pattern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_timezone_info.html">stri_timezone_info: Query a Given Time Zone</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_timezone_list.html">stri_timezone_list: List Available Time Zone Identifiers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_timezone_set.html">stri_timezone_set:</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_trans_casemap.html">stri_trans_casemap: Transform Strings with Case Mapping or Folding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_trans_char.html">stri_trans_char: Translate Characters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_trans_general.html">stri_trans_general: General Text Transforms, Including Transliteration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_trans_list.html">stri_trans_list: List Available Text Transforms and Transliterators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_trans_nf.html">stri_trans_nf: Perform or Check For Unicode Normalization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_trim.html">stri_trim: Trim Characters from the Left and/or Right Side of a String</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_unescape_unicode.html">stri_unescape_unicode: Un-escape All Escape Sequences</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_unique.html">stri_unique: Extract Unique Elements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_width.html">stri_width: Determine the Width of Code Points</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_wrap.html">stri_wrap: Word Wrap Text to Format Paragraphs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rapi/stri_write_lines.html">stri_write_lines: Write Text Lines to a Text File</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://deepr.gagolewski.com/">Deep R Programming</a></li>
<li class="toctree-l1"><a class="reference external" href="https://stringx.gagolewski.com/">stringx</a></li>
<li class="toctree-l1"><a class="reference external" href="https://dx.doi.org/10.18637/jss.v103.i02">JStatSoft Paper</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/gagolews/ExampleRcppStringi">C++ API — Rcpp Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../news.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../z_bibliography.html">References</a></li>
</ul>

</div></div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/gagolews/stringi/issues/" title="Edit this page">
    <svg><use href="#svg-pencil"></use></svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto colour theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section class="tex2jax_ignore mathjax_ignore" id="input-and-output">
<span id="sec-io"></span><h1>Input and Output<a class="headerlink" href="#input-and-output" title="Link to this heading">¶</a></h1>
<blockquote>
<div><p>This tutorial is based on the <a class="reference external" href="https://dx.doi.org/10.18637/jss.v103.i02">paper on <em>stringi</em></a> that was published in the <em>Journal of Statistical Software</em>; see <span id="id1">[<a class="reference internal" href="../z_bibliography.html#id3" title="Gagolewski, M. (2022).  stringi: Fast and portable character string processing in R. Journal of Statistical Software, 103(2):1–59. DOI: 10.18637/jss.v103.i02.">2</a>]</span>. To learn more about R, check out Marek’s open-access (free!) textbook <a class="reference external" href="https://deepr.gagolewski.com/"><em>Deep R Programming</em></a> <span id="id2">[<a class="reference internal" href="../z_bibliography.html#id4" title="Gagolewski, M. (2023).  Deep R Programming. Zenodo, Melbourne. ISBN 978-0-6455719-2-9. URL: https://deepr.gagolewski.com/, DOI: 10.5281/zenodo.7490464.">3</a>]</span>.</p>
</div></blockquote>
<p>This section deals with some more advanced topics related to the
operability of text processing applications between different platforms.
In particular, we discuss how to ensure that data read from various
input connections are interpreted correctly.</p>
<section id="dealing-with-unicode-code-points">
<span id="sec-codepoints"></span><h2>Dealing with Unicode Code Points<a class="headerlink" href="#dealing-with-unicode-code-points" title="Link to this heading">¶</a></h2>
<p>The Unicode Standard (as well as the Universal Coded Character Set,
i.e., ISO/IEC 10646) currently defines over 140,000 abstract characters
together with their corresponding code points – integers between 0 and
1,114,111 (or 0000 and 10FFFF in hexadecimal notation,
see <a class="reference external" href="https://www.unicode.org/charts/">https://www.unicode.org/charts/</a>). In particular, here is the
number of the code points in some popular categories (compare
<a class="reference internal" href="regular_expressions.html#sec-regexindividualchars"><span class="std std-ref">Matching Individual Characters</span></a>), such as letters, numbers, and
the like.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">z</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s">&quot;\\p{L}&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;\\p{Ll}&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;\\p{Lu}&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;\\p{N}&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;\\p{P}&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;\\p{S}&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="s">&quot;\\w&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;\\d&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;\\s&quot;</span><span class="p">)</span>
<span class="nf">structure</span><span class="p">(</span><span class="nf">stri_count_regex</span><span class="p">(</span><span class="nf">stri_enc_fromutf32</span><span class="p">(</span>
<span class="w">  </span><span class="nf">setdiff</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="mh">0x10ffff</span><span class="p">,</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="mh">0xd800</span><span class="o">:</span><span class="mh">0xf8ff</span><span class="p">))),</span><span class="w"> </span><span class="n">z</span><span class="p">),</span><span class="w"> </span><span class="n">names</span><span class="o">=</span><span class="n">z</span><span class="p">)</span>
<span class="c1">##  \\p{L} \\p{Ll} \\p{Lu}  \\p{N}  \\p{P}  \\p{S}     \\w     \\d     \\s </span>
<span class="c1">##  131241    2155    1791    1781     798    7564  134564     650      25</span>
</pre></div>
</div>
<p>Yet, most of the code points are still unallocated. The Unicode standard
is occasionally updated, e.g., the most recent versions were
supplemented with over 1,000 emojis.</p>
<p>The first 255 code points are identical to the ones defined by ISO/IEC
8859-1 (ISO Latin-1; “Western European”), which itself extends US-ASCII
(codes ≤ U+007f). For instance, the code point that we
are used to denoting as U+007A (the “U+” prefix is followed by a
sequence of hexadecimal digits; U+007A corresponds to decimal 122)
encodes the lower case letter “z”. To input such a code point in R, we
write:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="s">&quot;\u007A&quot;</span><span class="w">  </span><span class="c1"># or &quot;\U0000007A&quot;</span>
<span class="c1">## [1] &quot;z&quot;</span>
</pre></div>
</div>
<p>For communicating with <em>ICU</em> and other libraries, we may need to escape
a given string, for example, as follows (recall that to input a
backslash in R, we must escape it with another backslash).</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;zß你好&quot;</span>
<span class="nf">stri_escape_unicode</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="c1">## [1] &quot;z\\u00df\\u4f60\\u597d&quot;</span>
</pre></div>
</div>
<p>Even though some output devices might
be unable to display certain code points correctly (due to, e.g.,
missing fonts), the correctness of their processing with <em>stringi</em> is
still guaranteed by <em>ICU</em>.</p>
</section>
<section id="character-encodings">
<span id="sec-encoding"></span><h2>Character Encodings<a class="headerlink" href="#character-encodings" title="Link to this heading">¶</a></h2>
<p>When storing strings in RAM or on the disk, we need to decide upon the
actual way of representing the code points as sequences of bytes. The
two most popular encodings in the Unicode family are UTF-8 and UTF-16:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;abz0ąß你好!&quot;</span>
<span class="nf">stri_encode</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="o">=</span><span class="s">&quot;UTF-8&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">to_raw</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)[[</span><span class="m">1</span><span class="p">]]</span>
<span class="c1">##  [1] 61 62 7a 30 c4 85 c3 9f e4 bd a0 e5 a5 bd 21</span>
<span class="nf">stri_encode</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="o">=</span><span class="s">&quot;UTF-16LE&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">to_raw</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)[[</span><span class="m">1</span><span class="p">]]</span><span class="w">  </span><span class="c1"># little-endian</span>
<span class="c1">##  [1] 61 00 62 00 7a 00 30 00 05 01 df 00 60 4f 7d 59 21 00</span>
</pre></div>
</div>
<p>R’s current platform-default encoding, which we’ll refer to as the
native encoding, is defined via the <code class="docutils literal notranslate"><span class="pre">LC_CTYPE</span></code> locale category in
<code class="docutils literal notranslate"><span class="pre">Sys.getlocale()</span></code>. This is the representation assumed, e.g., when
reading data from the standard input or from files (e.g., when <code class="docutils literal notranslate"><span class="pre">scan()</span></code>
is called). For instance, Central European versions of Windows will
assume the “<code class="docutils literal notranslate"><span class="pre">windows-1250</span></code>” code page. On the other hand,
MacOS as well as most Linux boxes
work with UTF-8 by default<a class="footnote-reference brackets" href="#footucrt" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
<p>All strings in R have an associated encoding mark which can be read by
calling <code class="docutils literal notranslate"><span class="pre">Encoding()</span></code> or, more conveniently, <code class="docutils literal notranslate"><span class="pre">stri_enc_mark()</span></code>. Most
importantly, strings in ASCII, ISO-8859-1 (”<code class="docutils literal notranslate"><span class="pre">latin1</span></code>”), UTF-8, and the
native encoding can coexist. Whenever a non-Unicode string is passed to
a function in <em>stringi</em>, it is silently converted to UTF-8 or UTF-16,
depending on the requested operation (some <em>ICU</em> services are only
available for UTF-16 data). Over the years, this has proven a robust,
efficient, and maximally portable design choice – Unicode can be
thought of as a superset of every other encoding. Moreover, in order to
guarantee the correctness and high performance of the string processing
pipelines, <em>stringi</em> always<a class="footnote-reference brackets" href="#footuftout" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> outputs UTF-8 data.</p>
</section>
<section id="reading-and-writing-text-files">
<span id="sec-read-lines"></span><h2>Reading and Writing Text Files<a class="headerlink" href="#reading-and-writing-text-files" title="Link to this heading">¶</a></h2>
<p>According to a report by
<a class="reference external" href="https://w3techs.com/technologies/cross/character_encoding/ranking">W3Techs</a>,
as of 2021-09-28, 97.3% of
websites use UTF-8. Nevertheless, other encodings can still be
encountered.</p>
<p>If we know the encoding of a text file in advance, <code class="docutils literal notranslate"><span class="pre">stri_read_lines()</span></code>
can be used to read the data in a manner similar to the built-in
<code class="docutils literal notranslate"><span class="pre">readLines()</span></code> function (but with a much easier access to encoding
conversion):</p>
<p>For instance, below we read a text file
(see <a class="reference external" href="https://github.com/gagolews/stringi/tree/master/docs/_static/vignette">https://github.com/gagolews/stringi/tree/master/docs/_static/vignette</a>)
encoded in ISO-8859-1:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">stri_read_lines</span><span class="p">(</span><span class="s">&quot;ES_latin1.txt&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">encoding</span><span class="o">=</span><span class="s">&quot;ISO-8859-1&quot;</span><span class="p">)</span>
<span class="nf">head</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="m">4</span><span class="p">)</span><span class="w">  </span><span class="c1"># x is in UTF-8 now</span>
<span class="c1">## [1] &quot;CANTO DE CALÍOPE - Miguel de Cervantes&quot;</span>
<span class="c1">## [2] &quot;&quot;                                      </span>
<span class="c1">## [3] &quot;Al dulce son de mi templada lira,&quot;     </span>
<span class="c1">## [4] &quot;prestad, pastores, el oído atento:&quot;</span>
</pre></div>
</div>
<p>We can call <code class="docutils literal notranslate"><span class="pre">stri_write_lines()</span></code> to write the contents of a character
vector to a file (each string will constitute a separate text line),
with any output encoding.</p>
</section>
<section id="detecting-encodings">
<h2>Detecting Encodings<a class="headerlink" href="#detecting-encodings" title="Link to this heading">¶</a></h2>
<p>If a file’s encoding is not known in advance, there are a
certain functions that can aid in encoding detection. First, we can read
the resource in the form of a raw-type vector:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">stri_read_raw</span><span class="p">(</span><span class="s">&quot;ES_latin1.txt&quot;</span><span class="p">)</span>
<span class="nf">head</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="m">24</span><span class="p">)</span><span class="w">  </span><span class="c1"># vector of type raw</span>
<span class="c1">##  [1] 43 41 4e 54 4f 20 44 45 20 43 41 4c cd 4f 50 45 20 2d 20 4d 69 67 75 65</span>
</pre></div>
</div>
<p>Then, to guess the encoding, we can call, e.g.:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">stri_enc_isascii</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="c1">## [1] FALSE</span>
<span class="nf">stri_enc_isutf8</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">   </span><span class="c1"># false positives are possible</span>
<span class="c1">## [1] FALSE</span>
</pre></div>
</div>
<p>Alternatively, we can use:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">stri_enc_detect</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w">  </span><span class="c1"># based on heuristics</span>
<span class="c1">## [[1]]</span>
<span class="c1">##     Encoding Language Confidence</span>
<span class="c1">## 1 ISO-8859-1       es       0.81</span>
<span class="c1">## 2 ISO-8859-2       ro       0.36</span>
<span class="c1">## 3 ISO-8859-9       tr       0.20</span>
<span class="c1">## 4   UTF-16BE                0.10</span>
<span class="c1">## 5   UTF-16LE                0.10</span>
</pre></div>
</div>
<p>Nevertheless, encoding detection is an operation that relies on
heuristics. Therefore, there is a chance that the output might be
imprecise or even misleading.</p>
</section>
<section id="converting-between-encodings">
<h2>Converting Between Encodings<a class="headerlink" href="#converting-between-encodings" title="Link to this heading">¶</a></h2>
<p>Knowing the desired source and destination encoding precisely,
<code class="docutils literal notranslate"><span class="pre">stri_encode()</span></code> can be called to perform the conversion. Contrary to the
built-in <code class="docutils literal notranslate"><span class="pre">iconv()</span></code>, which relies on different underlying libraries, the
current function is portable across operating systems.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">y</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">stri_encode</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">from</span><span class="o">=</span><span class="s">&quot;ISO-8859-1&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">to</span><span class="o">=</span><span class="s">&quot;UTF-8&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">stri_enc_list()</span></code> provides a list of supported encodings and their
aliases in many different forms. Encoding specifiers are normalised
automatically, e.g., <code class="docutils literal notranslate"><span class="pre">&quot;utf8&quot;</span></code> is a synonym for <code class="docutils literal notranslate"><span class="pre">&quot;UTF-8&quot;</span></code>.</p>
<p>Splitting the output into text lines gives:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">tail</span><span class="p">(</span><span class="nf">stri_split_lines1</span><span class="p">(</span><span class="n">y</span><span class="p">),</span><span class="w"> </span><span class="m">4</span><span class="p">)</span><span class="w">  </span><span class="c1"># spoiler alert!</span>
<span class="c1">## [1] &quot;A Homero iguala si a escrebir intenta,&quot; </span>
<span class="c1">## [2] &quot;y a tanto llega de su pluma el vuelo,&quot;  </span>
<span class="c1">## [3] &quot;cuanto es verdad que a todos es notorio&quot;</span>
<span class="c1">## [4] &quot;el alto ingenio de don DIEGO OSORIO.&quot;</span>
</pre></div>
</div>
</section>
<section id="normalising-strings">
<span id="sec-normalisation"></span><h2>Normalising Strings<a class="headerlink" href="#normalising-strings" title="Link to this heading">¶</a></h2>
<p>In the section on <a class="reference internal" href="collation.html#sec-equivalence"><span class="std std-ref">Testing String Equivalence</span></a> we’ve provided some examples of
canonically equivalent strings whose code point representation was
different. Unicode <a class="reference external" href="https://www.unicode.org/reports/tr15/">normalisation</a>
forms C (Canonical composition, NFC)
and D (Canonical decomposition, NFD) can be applied so that they’ll
compare equal using bytewise matching.</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="s">&quot;a\u0328 ą&quot;</span><span class="w">   </span><span class="c1"># a, combining ogonek, space, a with ogonek</span>
<span class="nf">stri_enc_toutf32</span><span class="p">(</span><span class="w">  </span><span class="c1"># code points as decimals</span>
<span class="w">  </span><span class="nf">c</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="nf">stri_trans_nfc</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="w"> </span><span class="nf">stri_trans_nfd</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span>
<span class="c1">## [[1]]</span>
<span class="c1">## [1]  97 808  32 261</span>
<span class="c1">## </span>
<span class="c1">## [[2]]</span>
<span class="c1">## [1] 261  32 261</span>
<span class="c1">## </span>
<span class="c1">## [[3]]</span>
<span class="c1">## [1]  97 808  32  97 808</span>
</pre></div>
</div>
<p>Above we see some example code points before, after NFC, and after NFD
normalisation, respectively.</p>
<p>It might be a good idea always to normalise all the strings read from
external sources (files, URLs) with NFC.</p>
<p>Compatibility composition and decomposition normalisation forms (NFKC
and NFKD, respectively) are also available if the removal of the
formatting distinctions (font variants, subscripts, superscripts, etc.)
is desired. For example:</p>
<div class="highlight-r notranslate"><div class="highlight"><pre><span></span><span class="nf">stri_trans_nfkd</span><span class="p">(</span><span class="s">&quot;r²︷&quot;</span><span class="p">)</span>
<span class="c1">## [1] &quot;r2{&quot;</span>
</pre></div>
</div>
<p>Such text might be much easier to process or analyse statistically.</p>
<hr class="footnotes docutils" />
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="footucrt" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">1</a><span class="fn-bracket">]</span></span>
<p>It is expected that future R releases will support UTF-8 natively,
thanks to the Universal C Runtime (UCRT) that is available for
Windows 10.</p>
</aside>
<aside class="footnote brackets" id="footuftout" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id4">2</a><span class="fn-bracket">]</span></span>
<p>Okay, with a few obvious exceptions, such as <code class="docutils literal notranslate"><span class="pre">stri_encode()</span></code>.</p>
</aside>
</aside>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="example.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Example Use Case: Data Preparation</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="other_operations.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Other Operations</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
              
              
              Copyright &#169; 2013–2025 by <a href="https://www.gagolewski.com">Marek Gagolewski</a>.
              Some rights reserved. Licensed under <a href='https://creativecommons.org/licenses/by-nc-nd/4.0/'>CC BY-NC-ND 4.0</a>.
              Built with <a href="https://sphinx-doc.org/">Sphinx</a>
              and a customised <a href="https://github.com/pradyunsg/furo">Furo</a> theme.
              Last updated on 2025-02-02T16:09:08+0100.
              This site will never display any ads: it is a non-profit project.
              It does not collect any data.
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            In this section
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Input and Output</a><ul>
<li><a class="reference internal" href="#dealing-with-unicode-code-points">Dealing with Unicode Code Points</a></li>
<li><a class="reference internal" href="#character-encodings">Character Encodings</a></li>
<li><a class="reference internal" href="#reading-and-writing-text-files">Reading and Writing Text Files</a></li>
<li><a class="reference internal" href="#detecting-encodings">Detecting Encodings</a></li>
<li><a class="reference internal" href="#converting-between-encodings">Converting Between Encodings</a></li>
<li><a class="reference internal" href="#normalising-strings">Normalising Strings</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=3b00e8d0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=4e2eecee"></script>
    </body>
</html>